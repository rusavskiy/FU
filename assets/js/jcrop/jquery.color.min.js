(function(f,r){function s(a,c,d){var b=v[c.type]||{};if((c.empty||d)&&null==a)return null;if(c.def&&null==a)return c.def;a=b.floor?~~a:parseFloat(a);return null==a||isNaN(a)?c.def:b.mod?(a%=b.mod,0>a?b.mod+a:a):b.min>a?b.min:b.max<a?b.max:a}function w(a){var c=h(),d=c._rgba=[];a=a.toLowerCase();m(A,function(b,e){var g=e.re.exec(a),l=g&&e.parse(g),x=e.space||"rgba",g=k[x].cache;if(l)return l=c[x](l),c[g]=l[g],d=c._rgba=l._rgba,!1});if(0!==d.length)return 0===Math.max.apply(Math,d)&&f.extend(d,t.transparent),
c;if(a=t[a])return a}function u(a,c,d){d=(d+1)%1;return 1>6*d?a+6*(c-a)*d:1>2*d?c:2>3*d?a+(c-a)*(2/3-d)*6:a}var B=/^([\-+])=\s*(\d+\.?\d*)/,A=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,
parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],h=f.Color=function(a,c,d,b){return new f.Color.fn.parse(a,c,d,b)},k={rgba:{cache:"_rgba",props:{red:{idx:0,
type:"byte",empty:!0},green:{idx:1,type:"byte",empty:!0},blue:{idx:2,type:"byte",empty:!0},alpha:{idx:3,type:"percent",def:1}}},hsla:{cache:"_hsla",props:{hue:{idx:0,type:"degrees",empty:!0},saturation:{idx:1,type:"percent",empty:!0},lightness:{idx:2,type:"percent",empty:!0}}}},v={"byte":{floor:!0,min:0,max:255},percent:{min:0,max:1},degrees:{mod:360,floor:!0}},y=k.rgba.props,z=h.support={},t,m=f.each;k.hsla.props.alpha=y.alpha;h.fn=h.prototype={constructor:h,parse:function(a,c,d,b){if(a===r)return this._rgba=
[null,null,null,null],this;if(a instanceof f||a.nodeType)a=a instanceof f?a.css(c):f(a).css(c),c=r;var e=this,g=f.type(a),l=this._rgba=[];c!==r&&(a=[a,c,d,b],g="array");if("string"===g)return this.parse(w(a)||t._default);if("array"===g)return m(y,function(d,b){l[b.idx]=s(a[b.idx],b)}),this;if("object"===g)return a instanceof h?m(k,function(d,b){a[b.cache]&&(e[b.cache]=a[b.cache].slice())}):m(k,function(d,b){m(b.props,function(d,c){var g=b.cache;if(!e[g]&&b.to){if(null==a[d]||"alpha"===d)return;e[g]=
b.to(e._rgba)}e[g][c.idx]=s(a[d],c,!0)})}),this},is:function(a){var c=h(a),d=!0,b=this;m(k,function(a,g){var l=c[g.cache],f;l&&(f=b[g.cache]||g.to&&g.to(b._rgba)||[],m(g.props,function(a,b){if(null!=l[b.idx])return d=l[b.idx]===f[b.idx]}));return d});return d},_space:function(){var a=[],c=this;m(k,function(d,b){c[b.cache]&&a.push(d)});return a.pop()},transition:function(a,c){var d=h(a),b=d._space(),e=k[b],g=this[e.cache]||e.to(this._rgba),l=g.slice(),d=d[e.cache];m(e.props,function(a,b){var e=b.idx,
f=g[e],h=d[e],q=v[b.type]||{};null!==h&&(null===f?l[e]=h:(q.mod&&(h-f>q.mod/2?f+=q.mod:f-h>q.mod/2&&(f-=q.mod)),l[b.idx]=s((h-f)*c+f,b)))});return this[b](l)},blend:function(a){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),b=h(a)._rgba;return h(f.map(c,function(a,c){return(1-d)*b[c]+d*a}))},toRgbaString:function(){var a="rgba(",c=f.map(this._rgba,function(a,b){return null==a?2<b?1:0:a});1===c[3]&&(c.pop(),a="rgb(");return a+c.join(",")+")"},toHslaString:function(){var a="hsla(",
c=f.map(this.hsla(),function(a,b){null==a&&(a=2<b?1:0);b&&3>b&&(a=Math.round(100*a)+"%");return a});1===c[3]&&(c.pop(),a="hsl(");return a+c.join(",")+")"},toHexString:function(a){var c=this._rgba.slice(),d=c.pop();a&&c.push(~~(255*d));return"#"+f.map(c,function(a,d){a=(a||0).toString(16);return 1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}};h.fn.parse.prototype=h.fn;k.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,
null,null,a[3]];var c=a[0]/255,d=a[1]/255,b=a[2]/255;a=a[3];var e=Math.max(c,d,b),g=Math.min(c,d,b),f=e-g,h=e+g,n=0.5*h,h=0===n||1===n?n:0.5>=n?f/h:f/(2-h);return[Math.round(g===e?0:c===e?60*(d-b)/f+360:d===e?60*(b-c)/f+120:60*(c-d)/f+240)%360,h,n,null==a?1:a]};k.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var c=a[0]/360,d=a[1],b=a[2];a=a[3];d=0.5>=b?b*(1+d):b+d-b*d;b=2*b-d;return[Math.round(255*u(b,d,c+1/3)),Math.round(255*u(b,d,c)),Math.round(255*u(b,
d,c-1/3)),a]};m(k,function(a,c){var d=c.props,b=c.cache,e=c.to,g=c.from;h.fn[a]=function(a){e&&!this[b]&&(this[b]=e(this._rgba));if(a===r)return this[b].slice();var c=f.type(a),n="array"===c||"object"===c?a:arguments,p=this[b].slice(),k;m(d,function(a,b){var d=n["object"===c?a:b.idx];null==d&&(d=p[b.idx]);p[b.idx]=s(d,b)});return g?(k=h(g(p)),k[b]=p,k):h(p)};m(d,function(b,d){h.fn[b]||(h.fn[b]=function(c){var e=f.type(c),g="alpha"===b?this._hsla?"hsla":"rgba":a,h=this[g](),k=h[d.idx];if("undefined"===
e)return k;"function"===e&&(c=c.call(this,k),e=f.type(c));if(null==c&&d.empty)return this;"string"===e&&(e=B.exec(c))&&(c=k+parseFloat(e[2])*("+"===e[1]?1:-1));h[d.idx]=c;return this[g](h)})})});m("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),function(a,c){f.cssHooks[c]={set:function(a,b){var e,g;if("string"!==f.type(b)||(e=w(b))){b=h(e||b);if(!z.rgba&&1!==b._rgba[3]){g="backgroundColor"===c?a.parentNode:a;do e=f.curCSS(g,"backgroundColor");
while((""===e||"transparent"===e)&&(g=g.parentNode)&&g.style);b=b.blend(e&&"transparent"!==e?e:"_default")}b=b.toRgbaString()}a.style[c]=b}};f.fx.step[c]=function(a){a.colorInit||(a.start=h(a.elem,c),a.end=h(a.end),a.colorInit=!0);f.cssHooks[c].set(a.elem,a.start.transition(a.end,a.pos))}});f(function(){var a=document.createElement("div").style;a.cssText="background-color:rgba(1,1,1,.5)";z.rgba=-1<a.backgroundColor.indexOf("rgba")});t=f.Color.names={aqua:"#00ffff",azure:"#f0ffff",beige:"#f5f5dc",
black:"#000000",blue:"#0000ff",brown:"#a52a2a",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkviolet:"#9400d3",fuchsia:"#ff00ff",gold:"#ffd700",green:"#008000",indigo:"#4b0082",khaki:"#f0e68c",lightblue:"#add8e6",lightcyan:"#e0ffff",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightyellow:"#ffffe0",
lime:"#00ff00",magenta:"#ff00ff",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",pink:"#ffc0cb",purple:"#800080",violet:"#800080",red:"#ff0000",silver:"#c0c0c0",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);
